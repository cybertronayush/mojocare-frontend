{"ast":null,"code":"const baseUrl = \"https://sqecombackend.herokuapp.com/api\";\nexport const getCookie = name => {\n  var value = \"; \" + document.cookie;\n  var parts = value.split(\"; \" + name + \"=\");\n  if (parts.length == 2) return parts.pop().split(\";\").shift();\n};\nexport const setCookie = (name, value, days) => {\n  var expires = \"\";\n\n  if (days) {\n    var date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    expires = \"; expires=\" + date.toUTCString();\n  }\n\n  document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n};\n\nconst login = async _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  return fetch(`${baseUrl}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  }).then(async res => {\n    const response = await res.json();\n    setCookie(\"token\", response.refresh_token, 7);\n    setCookie(\"access_token\", response.access_token, 1);\n    return response;\n  });\n};\n\nconst register = async _ref2 => {\n  let {\n    name,\n    email,\n    password\n  } = _ref2;\n  return fetch(`${baseUrl}/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      name,\n      email,\n      password,\n      repeat_password: password\n    })\n  }).then(res => {\n    const response = res.json();\n    setCookie(\"token\", response.refresh_token, 7);\n    setCookie(\"access_token\", response.access_token, 1);\n    return response;\n  });\n};\n\nconst logout = async () => {\n  return fetch(`${baseUrl}/logout`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    },\n    body: JSON.stringify({\n      refresh_token: getCookie(\"token\")\n    })\n  }).then(res => {\n    if (res.status === 200) {\n      setCookie(\"token\", \"\", -1);\n      setCookie(\"access_token\", \"\", -1);\n    }\n  });\n};\n\nconst getProducts = async () => {\n  return fetch(`${baseUrl}/products`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    }\n  }).then(res => {\n    return res.json();\n  });\n};\n\nconst getProductById = async id => {\n  return fetch(`${baseUrl}/products/new/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    }\n  }).then(res => {\n    return res.json();\n  });\n};\n\nconst addToCard = async id => {\n  return fetch(`${baseUrl}/cart`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    },\n    body: JSON.stringify({\n      product_id: id\n    })\n  }).then(res => {\n    return res.json();\n  });\n};\n\nconst getProductsByCategory = async category => {\n  return fetch(`${baseUrl}/products/${category}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    }\n  }).then(res => {\n    return res.json();\n  });\n};\n\nconst deleteProduct = async () => {\n  return fetch(`${baseUrl}/products/new/${id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${getCookie(\"access_token\")}`\n    }\n  }).then(res => {\n    return res.json();\n  });\n};\n\nexport const api = {\n  login,\n  register,\n  logout,\n  getProducts,\n  getProductById,\n  addToCard,\n  getProductsByCategory\n};","map":{"version":3,"sources":["C:/Users/AYUSHCYBERTRON/Documents/SquareBoat Hiring/src/api.js"],"names":["baseUrl","getCookie","name","value","document","cookie","parts","split","length","pop","shift","setCookie","days","expires","date","Date","setTime","getTime","toUTCString","login","email","password","fetch","method","headers","body","JSON","stringify","then","res","response","json","refresh_token","access_token","register","repeat_password","logout","Authorization","status","getProducts","getProductById","id","addToCard","product_id","getProductsByCategory","category","deleteProduct","api"],"mappings":"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","sourcesContent":["const baseUrl = \"https://sqecombackend.herokuapp.com/api\";\n\nexport const getCookie = (name) => {\n    var value = \"; \" + document.cookie;\n    var parts = value.split(\"; \" + name + \"=\");\n    if (parts.length == 2) return parts.pop().split(\";\").shift();\n};\n\nexport const setCookie = (name, value, days) => {\n    var expires = \"\";\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\n};\n\nconst login = async ({ email, password }) => {\n    return fetch(`${baseUrl}/login`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            email,\n            password,\n        }),\n    }).then(async (res) => {\n        const response = await res.json();\n        setCookie(\"token\", response.refresh_token, 7);\n        setCookie(\"access_token\", response.access_token, 1);\n        return response;\n    });\n};\n\nconst register = async ({ name, email, password }) => {\n    return fetch(`${baseUrl}/register`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            name,\n            email,\n            password,\n            repeat_password: password,\n        }),\n    }).then((res) => {\n        const response = res.json();\n        setCookie(\"token\", response.refresh_token, 7);\n        setCookie(\"access_token\", response.access_token, 1);\n        return response;\n    });\n};\n\nconst logout = async () => {\n    return fetch(`${baseUrl}/logout`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n        body: JSON.stringify({\n            refresh_token: getCookie(\"token\"),\n        }),\n    }).then((res) => {\n        if (res.status === 200) {\n            setCookie(\"token\", \"\", -1);\n            setCookie(\"access_token\", \"\", -1);\n        }\n    });\n};\n\nconst getProducts = async () => {\n    return fetch(`${baseUrl}/products`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n    }).then((res) => {\n        return res.json();\n    });\n};\n\nconst getProductById = async (id) => {\n    return fetch(`${baseUrl}/products/new/${id}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n    }).then((res) => {\n        return res.json();\n    });\n};\n\nconst addToCard = async (id) => {\n    return fetch(`${baseUrl}/cart`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n        body: JSON.stringify({\n            product_id: id,\n        }),\n    }).then((res) => {\n        return res.json();\n    });\n};\n\nconst getProductsByCategory = async (category) => {\n    return fetch(`${baseUrl}/products/${category}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n    }).then((res) => {\n        return res.json();\n    });\n};\n\nconst deleteProduct = async () => {\n     return fetch(`${baseUrl}/products/new/${id}`, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${getCookie(\"access_token\")}`,\n        },\n    }).then((res) => {\n        return res.json();\n    });\n\n}\n\nexport const api = {\n    login,\n    register,\n    logout,\n    getProducts,\n    getProductById,\n    addToCard,\n    getProductsByCategory,\n};\n"]},"metadata":{},"sourceType":"module"}